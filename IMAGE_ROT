import cv2
import numpy as np

class ImageProcessor:
    
    """Handles image rotation using OpenCV
    and maintains the current image state."""
  

    def __init__(self, image: np.ndarray):
        if image is None:
            raise ValueError("Image cannot be None")
        self._current_image = image.copy()

    def get_image(self) -> np.ndarray:
        """Return the current image."""
        return self._current_image

    def rotate_image(self, angle: int):
      
        """Rotate image clockwise by 90, 180, or 270 degrees."""
      
        if angle == 90:
            self._current_image = cv2.rotate(
                self._current_image, cv2.ROTATE_90_CLOCKWISE
            )
        elif angle == 180:
            self._current_image = cv2.rotate(
                self._current_image, cv2.ROTATE_180
            )
        elif angle == 270:
            self._current_image = cv2.rotate(
                self._current_image, cv2.ROTATE_90_COUNTERCLOCKWISE
            )
        else:
            raise ValueError(
                "Rotation angle must be 90, 180, or 270 degrees"
            )
